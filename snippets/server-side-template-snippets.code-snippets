{
  "basic tool": {
    "prefix": "template:basic_tool",
    "body": [
      "# 这是一个单页面工具型应用的基础模板，由feffery-dash-snippets自动生成\n\nimport dash\nfrom dash import html, set_props\nimport feffery_antd_components as fac\nimport feffery_utils_components as fuc\nfrom feffery_dash_utils.style_utils import style\nfrom dash.dependencies import Input, Output, State\n\napp = dash.Dash(\n    __name__,\n    update_title=None,\n    suppress_callback_exceptions=True,\n    title='A Basic Tool',\n)\n\napp.layout = fuc.FefferyTopProgress(\n    fac.AntdCenter(\n        [\n            # 全局消息提示\n            fac.Fragment(id='global-message'),\n            # 主面板\n            fuc.FefferyDiv(\n                [\n                    fac.AntdSpace(\n                        [\n                            # 工具标题\n                            fac.AntdText(\n                                '基础工具标题',\n                                style=style(\n                                    fontSize=25,\n                                    borderLeft='5px solid #1677ff',\n                                    paddingLeft=8,\n                                ),\n                            ),\n                            # 工具说明\n                            fac.AntdText(\n                                '这里是该工具的操作说明'\n                                + '巴拉' * 20,\n                                type='secondary',\n                            ),\n                        ],\n                        direction='vertical',\n                        size=0,\n                    ),\n                    fac.AntdDivider(),\n                    # 工具输入\n                    fac.AntdRow(\n                        [\n                            # 作为State的工具输入参数\n                            *[\n                                fac.AntdCol(\n                                    fac.AntdFormItem(\n                                        fac.AntdInput(\n                                            # 示例组件id，实际使用请结合实际情况编写\n                                            id=f'demo-input{i}',\n                                            placeholder='请输入',\n                                        ),\n                                        label=f'输入项{i}',\n                                        layout='vertical',\n                                        style=style(\n                                            margin=0\n                                        ),\n                                    ),\n                                    span=6,\n                                )\n                                for i in range(1, 5)\n                            ],\n                            # 作为Input的工具输入参数提交按钮\n                            fac.AntdCol(\n                                fac.AntdButton(\n                                    '执行计算',\n                                    id='submit-button',\n                                    type='primary',\n                                    block=True,\n                                    loadingChildren='计算中',\n                                ),\n                                span=24,\n                            ),\n                        ],\n                        gutter=[5, 8],\n                    ),\n                    fac.AntdDivider(),\n                    # 结果展示区\n                    fac.AntdSpin(\n                        html.Div(\n                            # 初始化提示内容\n                            fac.AntdCenter(\n                                fac.AntdResult(\n                                    subTitle='请先完善各参数后，点击按钮执行运算',\n                                ),\n                                style=style(paddingTop=50),\n                            ),\n                            id='result-container',\n                        ),\n                        text='拼命计算中...',\n                        size='large',\n                        listenPropsMode='include',\n                        includeProps=[\n                            'result-container.children',\n                        ],\n                    ),\n                ],\n                # 主面板基础样式\n                style=style(\n                    border='1px solid #dedede',\n                    borderRadius=20,\n                    backgroundColor='#fff',\n                    width='90vw',\n                    boxShadow='50px 50px 100px 10px rgba(0,0,0,.1)',\n                    minWidth=600,\n                    maxWidth=1200,\n                    minHeight='calc(100vh - 120px)',\n                    boxSizing='border-box',\n                    padding='35px 28px',\n                ),\n            ),\n        ],\n        # 根容器基础样式\n        style=style(\n            backgroundColor='#fafafa',\n            paddingTop=60,\n            paddingBottom=60,\n        ),\n    ),\n    listenPropsMode='include',\n    includeProps=[\n        'result-container.children',\n    ],\n    minimum=0.4,\n)\n\n\n# 相关示例回调函数\n\n\n@app.callback(\n    Output('result-container', 'children'),\n    Input('submit-button', 'nClicks'),\n    [\n        State('demo-input1', 'value'),\n        State('demo-input2', 'value'),\n        State('demo-input3', 'value'),\n        State('demo-input4', 'value'),\n    ],\n    running=[\n        (Output('submit-button', 'loading'), True, False)\n    ],\n    prevent_initial_call=True,\n)\ndef update_result(nClicks, value1, value2, value3, value4):\n    \"\"\"处理工具计算结果的更新输出\"\"\"\n\n    # 模拟输入值不完善时的处理逻辑\n    if not all([value1, value2, value3, value4]):\n        # 额外消息提示\n        set_props(\n            'global-message',\n            {\n                'children': fac.AntdMessage(\n                    content='本次任务计算失败', type='error'\n                )\n            },\n        )\n\n        return fac.AntdCenter(\n            fac.AntdResult(\n                title='计算失败',\n                subTitle='请先完善本工具所需各项输入值',\n                status='error',\n            ),\n            style=style(paddingTop=50),\n        )\n\n    # 模拟计算耗时，实际使用时请删除\n    import time\n\n    time.sleep(2)\n\n    # 额外消息提示\n    set_props(\n        'global-message',\n        {\n            'children': fac.AntdMessage(\n                content='本次任务计算完成', type='success'\n            )\n        },\n    )\n\n    # 模拟计算结果返回\n    return fac.AntdCenter(\n        fac.AntdResult(\n            title='计算完成',\n            subTitle='计算结果示例',\n            status='success',\n        ),\n        style=style(paddingTop=50),\n    )\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n"
    ],
    "description": "Quickly generate code template for basic tool type app"
  }
}